# Friday AI Rollout Configuration
# Copy this file to .env.rollout and adjust values as needed

# Feature Flags - Override default behavior
FORCE_SERVER_SIDE_CHAT=false
FORCE_STREAMING=false
FORCE_MODEL_ROUTING=false

# A/B Testing Configuration
AB_TEST_CHAT_FLOW_ENABLED=true
AB_TEST_STREAMING_ENABLED=false
AB_TEST_MODEL_ROUTING=false

# Rollout Percentages (0-1)
ROLLOUT_CHAT_FLOW_PERCENTAGE=0.1
ROLLOUT_STREAMING_PERCENTAGE=0.0
ROLLOUT_MODEL_ROUTING_PERCENTAGE=0.0

# Emergency Rollback
EMERGENCY_ROLLBACK=false
ROLLBACK_CHAT_FLOW=false
ROLLBACK_STREAMING=false
ROLLBACK_MODEL_ROUTING=false

# Manual Overrides for Testing
MANUAL_ROLLOUT_CHAT_FLOW=0.1
MANUAL_ROLLOUT_STREAMING=0.0
MANUAL_ROLLOUT_MODEL_ROUTING=0.0

# Monitoring Thresholds
MAX_ERROR_RATE_THRESHOLD=5
MAX_RESPONSE_TIME_THRESHOLD=3000
MIN_SATISFACTION_THRESHOLD=3.5

# Rollback Triggers
ERROR_RATE_ROLLBACK_TRIGGER=10
RESPONSE_TIME_ROLLBACK_TRIGGER=5000
USER_COMPLAINTS_ROLLBACK_TRIGGER=5

# Feature-Specific Settings
CHAT_FLOW_ENABLED=true
STREAMING_ENABLED=false
MODEL_ROUTING_ENABLED=false

# Testing Configuration
ENABLE_TEST_MODE=false
TEST_USER_IDS=[]
FORCE_AB_TEST_GROUP=none

# Monitoring and Analytics
ENABLE_ROLLOUT_ANALYTICS=true
ROLLOUT_METRICS_ENDPOINT=/api/rollout/metrics
ENABLE_REAL_TIME_MONITORING=true

# Notification Settings
ROLLBACK_NOTIFICATION_ENABLED=true
SLACK_WEBHOOK_URL=your_slack_webhook_here
EMAIL_NOTIFICATION_RECIPIENTS=admin@rendetalje.dk

# Database Configuration for Rollout
ROLLOUT_DB_TABLE=rollout_metrics
ENABLE_ROLLOUT_LOGGING=true
LOG_ROLLOUT_EVENTS=true

# Performance Monitoring
ENABLE_PERFORMANCE_TRACKING=true
TRACK_RESPONSE_TIMES=true
TRACK_ERROR_RATES=true
TRACK_USER_SATISFACTION=true

# Gradual Rollout Schedule
# Format: YYYY-MM-DD
CHAT_FLOW_BETA_START=2025-01-15
CHAT_FLOW_GRADUAL_START=2025-01-22
CHAT_FLOW_FULL_START=2025-02-05

STREAMING_BETA_START=2025-02-12
STREAMING_GRADUAL_START=2025-02-19
STREAMING_FULL_START=2025-02-26

MODEL_ROUTING_BETA_START=2025-03-05
MODEL_ROUTING_GRADUAL_START=2025-03-12
MODEL_ROUTING_FULL_START=2025-03-26
