---
name: debug-vector-search
description: "[debugging] Debug Vector Search - You are debugging ChromaDB vector search issues."
argument-hint: Optional input or selection
---

# Debug Vector Search

You are debugging ChromaDB vector search issues.

## TASK

Identify and fix problems with vector similarity search.

## STEPS

1) Understand the issue:
   - Check error messages
   - Review search results quality
   - Identify when it fails
   - Note query patterns

2) Review ChromaDB code:
   - Check collection setup
   - Review query logic
   - Verify embedding generation
   - Check metadata filtering

3) Check embeddings:
   - Verify embedding model
   - Check embedding quality
   - Review embedding dimensions
   - Test embedding generation

4) Test queries:
   - Test similarity search
   - Check distance metrics
   - Verify result ranking
   - Test metadata filters

5) Optimize if needed:
   - Adjust similarity threshold
   - Improve query construction
   - Optimize metadata filtering
   - Consider re-indexing

6) Test the fix:
   - Run test queries
   - Verify results improved
   - Check performance
   - Monitor for issues

## OUTPUT

Provide:
- Issue identified
- Root cause
- Fix implemented
- Query optimizations
- Test results
- Performance improvements

