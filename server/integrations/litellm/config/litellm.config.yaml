# LiteLLM Configuration for Friday AI
# Uses ONLY FREE OpenRouter models - Zero cost!

model_list:
  # 1. PRIMARY: GLM-4.5 Air (100% accuracy - current Friday model)
  - model_name: glm-4.5-air
    litellm_params:
      model: openrouter/z-ai/glm-4.5-air:free
      api_key: os.environ/OPENROUTER_API_KEY
      api_base: https://openrouter.ai/api/v1
    model_info:
      mode: chat
      supports_function_calling: true
      supports_vision: false
      supports_streaming: true
      max_tokens: 128000
      cost_per_token: 0.0
      input_cost_per_token: 0.0
      output_cost_per_token: 0.0

  # 2. FALLBACK 1: DeepSeek Chat v3.1 (Coding & reasoning)
  - model_name: deepseek-chat
    litellm_params:
      model: openrouter/deepseek/deepseek-chat-v3.1:free
      api_key: os.environ/OPENROUTER_API_KEY
      api_base: https://openrouter.ai/api/v1
    model_info:
      mode: chat
      supports_function_calling: true
      max_tokens: 32000
      cost_per_token: 0.0

  # 3. FALLBACK 2: MiniMax M2 (Fast general purpose)
  - model_name: minimax-m2
    litellm_params:
      model: openrouter/minimax/minimax-m2:free
      api_key: os.environ/OPENROUTER_API_KEY
      api_base: https://openrouter.ai/api/v1
    model_info:
      mode: chat
      max_tokens: 8192
      cost_per_token: 0.0

  # 4. FALLBACK 3: Kimi K2 (Long context - 200K tokens)
  - model_name: kimi-k2
    litellm_params:
      model: openrouter/moonshotai/kimi-k2:free
      api_key: os.environ/OPENROUTER_API_KEY
      api_base: https://openrouter.ai/api/v1
    model_info:
      mode: chat
      max_tokens: 200000
      cost_per_token: 0.0

  # 5. FALLBACK 4: Qwen3 Coder (Code-specific tasks)
  - model_name: qwen-coder
    litellm_params:
      model: openrouter/qwen/qwen3-coder:free
      api_key: os.environ/OPENROUTER_API_KEY
      api_base: https://openrouter.ai/api/v1
    model_info:
      mode: chat
      max_tokens: 32000
      cost_per_token: 0.0

  # 6. LEGACY: Gemma 3 27B (Backward compatibility)
  - model_name: gemma-3-27b
    litellm_params:
      model: openrouter/google/gemma-3-27b-it:free
      api_key: os.environ/OPENROUTER_API_KEY
      api_base: https://openrouter.ai/api/v1
    model_info:
      mode: chat
      max_tokens: 8192
      cost_per_token: 0.0

# Router settings - Fallback configuration
router_settings:
  # Use fallback routing strategy
  routing_strategy: fallback
  
  # Model aliases (for compatibility)
  model_group_alias:
    gpt-4o: glm-4.5-air
    gpt-4: glm-4.5-air
    claude-3: glm-4.5-air
  
  # Retry configuration
  retry_after: 0.5  # seconds
  allowed_fails: 2  # Max fails before trying fallback
  cooldown_time: 60  # seconds before retrying failed model
  num_retries: 3  # Total retry attempts
  timeout: 30  # Request timeout in seconds

# General settings
general_settings:
  # Master key for API authentication (optional)
  master_key: os.environ/LITELLM_MASTER_KEY
  
  # Disable database completely
  use_queue: false
  
  # Logging
  set_verbose: true
  json_logs: true
  
  # Health checks
  health_check: true
  
  # Disable telemetry
  telemetry: false

# Litellm settings
litellm_settings:
  # Drop params not supported by provider
  drop_params: true
  
  # Set completion cost
  set_completion_cost: false
  
  # Success callback
  success_callback: []
  
  # Failure callback  
  failure_callback: []
