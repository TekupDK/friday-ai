# Friday AI - Environment Configuration
# Copy this file to .env and fill in your values

# =============================================================================
# DATABASE (REQUIRED)
# =============================================================================

# Supabase PostgreSQL (Production - Anbefalet)
# Format: postgresql://USERNAME:PASSWORD@HOST:5432/postgres?schema=SCHEMA_NAME&sslmode=require
# Eksempel:
# DATABASE_URL=postgresql://postgres:PASSWORD@db.PROJECT_ID.supabase.co:5432/postgres?schema=friday_ai&sslmode=require

# Option 2: Local PostgreSQL (Docker Compose - Development)
# DATABASE_URL=postgresql://postgres:password@localhost:5432/postgres?schema=friday_ai

# Option 3: Local PostgreSQL (Docker Container)
# DATABASE_URL=postgresql://postgres:password@db:5432/postgres?schema=friday_ai

# Default (for local development with Supabase)
DATABASE_URL=postgresql://postgres:PASSWORD@db.PROJECT_ID.supabase.co:5432/postgres?schema=friday_ai&sslmode=require

# =============================================================================
# AUTHENTICATION (REQUIRED)
# =============================================================================

# JWT Secret - Brug en stærk, tilfældig streng (minimum 32 karakterer)
JWT_SECRET=your-secure-jwt-secret-change-this-in-production

# OWNER OpenID - En stabil streng der identificerer admin-brugeren
# Bruges til dev-login og automatisk oprettelse af admin-bruger
OWNER_OPEN_ID=owner-friday-ai-dev

# =============================================================================
# AI MODELS (REQUIRED)
# =============================================================================

# OpenAI API Key - Bruges direkte til AI calls
OPENAI_API_KEY=your-openai-api-key-here

# Gemini API Key (Optional - hvis du vil bruge Gemini i stedet)
GEMINI_API_KEY=your-gemini-api-key-here

# =============================================================================
# BILLY.DK INTEGRATION (Optional)
# =============================================================================

BILLY_API_KEY=your-billy-api-key
BILLY_ORGANIZATION_ID=your-billy-organization-id

# =============================================================================
# GOOGLE WORKSPACE INTEGRATION (Optional)
# =============================================================================

# Google Service Account JSON (hele JSON objektet som string)
# Brug domain-wide delegation til info@rendetalje.dk
GOOGLE_SERVICE_ACCOUNT_KEY={"type":"service_account","project_id":"...","private_key_id":"...","private_key":"...","client_email":"...","client_id":"...","auth_uri":"...","token_uri":"...","auth_provider_x509_cert_url":"...","client_x509_cert_url":"..."}

# Bruger der skal impersoneres (normalt info@rendetalje.dk)
GOOGLE_IMPERSONATED_USER=info@rendetalje.dk

# Google Calendar ID
GOOGLE_CALENDAR_ID=c_39570a852bf141658572fa37bb229c7246564a6cca47560bc66a4f9e4fec67ff@group.calendar.google.com

# =============================================================================
# APP SETTINGS
# =============================================================================

NODE_ENV=development
PORT=3000

# Frontend App ID
VITE_APP_ID=friday-ai

# =============================================================================
# ANALYTICS & TELEMETRY (Optional)
# =============================================================================

# Enable external analytics export (defaults to false)
ANALYTICS_ENABLED=false

# Comma-separated list of providers to use: webhook,mixpanel,amplitude
# If empty, no external export is performed even if ANALYTICS_ENABLED=true
ANALYTICS_PROVIDER=webhook

# Webhook provider (recommended for simple setups)
ANALYTICS_WEBHOOK_URL=https://your-analytics-endpoint.example.com/events
ANALYTICS_WEBHOOK_SECRET=change-me

# Mixpanel provider (optional)
# Project token from Mixpanel project settings
MIXPANEL_TOKEN=

# Amplitude provider (optional)
# API key from Amplitude project
AMPLITUDE_API_KEY=

# =============================================================================
# INBOUND EMAIL (SMTP) - Phase 0
# =============================================================================

# Webhook URL for inbound-email SMTP server
# Local development: http://localhost:3000/api/inbound/email
# Docker: http://host.docker.internal:3000/api/inbound/email
INBOUND_EMAIL_WEBHOOK_URL=http://localhost:3000/api/inbound/email

# HMAC secret for webhook signature verification (optional)
INBOUND_EMAIL_WEBHOOK_SECRET=your-webhook-secret-key

# Storage type: 'local' or 'supabase'
INBOUND_STORAGE_TYPE=local

# Local filesystem path for attachments (if INBOUND_STORAGE_TYPE=local)
INBOUND_STORAGE_PATH=./storage/attachments

# Supabase storage bucket name (if INBOUND_STORAGE_TYPE=supabase)
# INBOUND_STORAGE_BUCKET=emails

# =============================================================================
# DEPRECATED - CAN BE REMOVED
# =============================================================================

# Disse variabler er ikke længere nødvendige (Manus er fjernet):
# - OAUTH_SERVER_URL
# - VITE_OAUTH_PORTAL_URL
# - BUILT_IN_FORGE_API_URL
# - BUILT_IN_FORGE_API_KEY
# - VITE_FRONTEND_FORGE_API_URL
# - VITE_FRONTEND_FORGE_API_KEY
